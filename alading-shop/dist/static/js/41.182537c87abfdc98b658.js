webpackJsonp([41],{Iww1:function(t,o,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.shopWindow[data-v-31586d7b] {\n  padding: 20px;\n}\n.el-table[data-v-31586d7b] {\n  padding-top: 20px;\n}\n.count[data-v-31586d7b] {\n  padding: 20px 0 20px;\n}\n.imgBox img[data-v-31586d7b] {\n  max-height: 60px;\n  max-width: 80px;\n}\n",""])},jyWU:function(t,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=a("vLgD"),n="/shop";var s={components:{GoodsSelect:a("xkLq").a},data:function(){return{radio:2,formData:[],visible:!1}},created:function(){this.getWindowList()},watch:{radio:function(t,o){2!==o&&this.isOpenWindow(this.radio)}},methods:{getWindowList:function(){var t,o=this;Object(e.a)({url:n+"/windows/getWindowGoodsList",method:"post",params:t}).then(function(t){t.data.windowGoodsList||(t.data.windowGoodsList=[]),o.formData=t.data.windowGoodsList,o.radio=t.data.shopDo.windowStatus})},isOpenWindow:function(t){var o,a=this,s=t?"已开启":"已关闭";(o={windowStatus:t},Object(e.a)({url:n+"/windows/isOpenOrClose",method:"post",params:o})).then(function(t){a.$message({type:"success",message:s})})},setDelete:function(t){var o=this;this.$confirm("确定删除该橱窗商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a;(a={goodsId:t},Object(e.a)({url:n+"/windows/deleteWindowGoods",method:"post",params:a})).then(function(t){o.$message({type:"success",message:"删除成功"}),o.getWindowList()})}).catch(function(){})},addBtn:function(){this.visible=!0},addWindowGoods:function(t){var o,a=this,s={goodsIds:t.map(function(t){return t.id}).join()};(o=s,Object(e.a)({url:n+"/windows/addWindowGoods",method:"post",params:o})).then(function(t){a.$message({type:"success",message:"橱窗商品添加成功"}),a.getWindowList()})}}},i={render:function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"shopWindow"},[a("div",[a("el-radio",{attrs:{label:1},model:{value:t.radio,callback:function(o){t.radio=o},expression:"radio"}},[t._v("开启")]),t._v(" "),a("el-radio",{attrs:{label:0},model:{value:t.radio,callback:function(o){t.radio=o},expression:"radio"}},[t._v("关闭")])],1),t._v(" "),a("el-table",{attrs:{data:t.formData,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"商品ID",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"barCode",label:"商品条形码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"brandName",label:"商品品牌"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品名称","min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("div",{staticClass:"imgBox"},[a("img",{attrs:{src:t.row.goodsIcon,alt:"img"}})])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"categorys",label:"商品类目","min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"salePrice",label:"售价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalStock",label:"剩余库存"}}),t._v(" "),a("el-table-column",{attrs:{prop:"saleCount",label:"历史销量"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"60"},scopedSlots:t._u([{key:"default",fn:function(o){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.setDelete(o.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"count"},[a("span",[t._v("（"+t._s(t.formData.length)+" / 6）")])]),t._v(" "),a("div",{staticClass:"add"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addBtn}},[t._v("添加橱窗商品")])],1),t._v(" "),a("GoodsSelect",{attrs:{isShow:t.visible,onSubmit:t.addWindowGoods},on:{"update:isShow":function(o){t.visible=o}}})],1)},staticRenderFns:[]};var d=a("VU/8")(s,i,!1,function(t){a("r6Cd")},"data-v-31586d7b",null);o.default=d.exports},r6Cd:function(t,o,a){var e=a("Iww1");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);a("rjj0")("cdedcfb0",e,!0)}});