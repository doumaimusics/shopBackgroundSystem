webpackJsonp([35],{"5SXV":function(e,t,a){var r=a("7zgW");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("2264f922",r,!0)},"7zgW":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.addCoupon[data-v-7d5e60e6] {\n  padding: 20px;\n}\n[data-v-7d5e60e6] label {\n  width: 120px;\n}\n[data-v-7d5e60e6] .el-form-item__content {\n  padding-left: 121px;\n}\n[data-v-7d5e60e6] .el-form-item__error {\n  padding-left: 121px;\n}\n.el-input[data-v-7d5e60e6] {\n  width: 300px;\n}\n.btn[data-v-7d5e60e6] {\n  padding-top: 20px;\n}\n.el-form[data-v-7d5e60e6] {\n  padding-left: 20px;\n}\n.dateTo[data-v-7d5e60e6] {\n  padding: 10px 25px 0;\n}\n[data-v-7d5e60e6] .el-range-separator {\n  width: 7%;\n}\n",""])},mz7z:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),o=a.n(r),i=a("8ghC"),n={data:function(){var e=this,t={validateAmount:function(e,t,a){if("0"===t||!/^\d+(\.\d+)?$/.test(t))return a(new Error("请输入大于0的数字"));a()},validateLimitAmount:function(e,t,a){if(!/^\d+(\.\d+)?$/.test(t))return a(new Error("请输入大于或等于0的数字"));a()},validateDateRange:function(t,a,r){if("R"===e.form.expiryType&&(!a||a.length<=0))return r(new Error("请选择日期范围"));r()},validateValidDays:function(t,a,r){if("D"===e.form.expiryType&&void 0===a)return r(new Error("不能为空"));r()}};return{form:{name:"",type:"FULLVOUCHER",amount:"",limitAmount:"",quota:void 0,limitCount:void 0,expiryType:"R",dateRange:[],validDays:void 0,isGlobal:9,isShow:"1"},rules:{name:[{required:!0,message:"不能为空",trigger:"blur"}],amount:[{validator:t.validateAmount,trigger:"blur"}],limitAmount:[{validator:t.validateLimitAmount,trigger:"blur"}],quota:[{required:!0,message:"不能为空",trigger:"blur"}],limitCount:[{required:!0,message:"不能为空",trigger:"blur"}],dateRange:[{validator:t.validateDateRange,trigger:"blur"}],validDays:[{validator:t.validateValidDays,trigger:"blur"}]}}},methods:{onSubmit:function(){var e=this;this.$refs.formRef.validate(function(t){if(t){var a=o()({},e.form);"R"===a.expiryType&&(a.gmtStartTime=a.dateRange[0].getTime(),a.gmtEndTime=a.dateRange[1].getTime(),delete a.validDays),delete a.dateRange,Object(i.z)(a).then(function(t){e.$message({type:"success",message:"优惠券添加成功"}),e.$router.push({name:"discountCoupon"})})}})},goBack:function(){this.$router.history.go(-1)}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addCoupon"},[a("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{prop:"name",label:"优惠券名称："}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"type",label:"优惠券类型："}},[a("el-radio",{attrs:{label:"FULLVOUCHER"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[e._v("满减券")])],1),e._v(" "),a("el-form-item",{attrs:{prop:"amount",label:"优惠金额："}},[a("el-input",{attrs:{type:"number"},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"limitAmount",label:"使用限制："}},[e._v("\n      满 "),a("el-input",{attrs:{type:"number"},model:{value:e.form.limitAmount,callback:function(t){e.$set(e.form,"limitAmount",t)},expression:"form.limitAmount"}}),e._v(" 元可用\n    ")],1),e._v(" "),a("el-form-item",{attrs:{prop:"quota",label:"发行量："}},[a("el-input-number",{attrs:{"controls-position":"right",min:1,precision:0},model:{value:e.form.quota,callback:function(t){e.$set(e.form,"quota",t)},expression:"form.quota"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"limitCount",label:"单人领取上限："}},[a("el-input-number",{attrs:{"controls-position":"right",min:1,precision:0},model:{value:e.form.limitCount,callback:function(t){e.$set(e.form,"limitCount",t)},expression:"form.limitCount"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"dateRange",label:"有效时间："}},[a("el-radio",{attrs:{label:"R"},model:{value:e.form.expiryType,callback:function(t){e.$set(e.form,"expiryType",t)},expression:"form.expiryType"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.dateRange,callback:function(t){e.$set(e.form,"dateRange",t)},expression:"form.dateRange"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"validDays",label:""}},[a("el-radio",{attrs:{label:"D"},model:{value:e.form.expiryType,callback:function(t){e.$set(e.form,"expiryType",t)},expression:"form.expiryType"}},[a("span",[e._v("\n          领取后 "),a("el-input-number",{attrs:{"controls-position":"right",min:1,precision:0},model:{value:e.form.validDays,callback:function(t){e.$set(e.form,"validDays",t)},expression:"form.validDays"}}),e._v(" 天\n        ")],1)])],1),e._v(" "),a("el-form-item",{attrs:{prop:"isGlobal",label:"使用范围："}},[a("el-radio",{attrs:{label:9},model:{value:e.form.isGlobal,callback:function(t){e.$set(e.form,"isGlobal",t)},expression:"form.isGlobal"}},[e._v("全店")])],1),e._v(" "),a("el-form-item",{attrs:{prop:"isShow",label:"详情页领券："}},[a("el-radio",{attrs:{label:"1"},model:{value:e.form.isShow,callback:function(t){e.$set(e.form,"isShow",t)},expression:"form.isShow"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.form.isShow,callback:function(t){e.$set(e.form,"isShow",t)},expression:"form.isShow"}},[e._v("否")])],1),e._v(" "),a("el-form-item",{staticClass:"btn"},[a("el-button",{attrs:{type:"default"},on:{click:e.goBack}},[e._v("返回")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(n,l,!1,function(e){a("5SXV")},"data-v-7d5e60e6",null);t.default=m.exports}});