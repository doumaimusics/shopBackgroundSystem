webpackJsonp([1],{"1xro":function(e,t,a){var i=a("7UVr");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("1f2131c0",i,!0)},"4nAA":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.productCard[data-v-f68cf960] {\n  margin-bottom: 20px;\n}\n.tableHeader[data-v-f68cf960] {\n  width: 100%;\n  padding-bottom: 15px;\n  border-bottom: 1px solid #d8d3d3;\n  margin-bottom: 20px;\n  margin-top: 0;\n}\n.tableHeader .el-form-item[data-v-f68cf960] {\n    margin-right: 0;\n}\n.tableHeader .el-input[data-v-f68cf960], .tableHeader[data-v-f68cf960] .el-input--suffix {\n    margin-top: 60px;\n}\n.tableHeader button[data-v-f68cf960] {\n    margin-top: 65px;\n}\n.editProduct[data-v-f68cf960] {\n  padding: 20px;\n}\ntable[data-v-f68cf960] {\n  width: 100%;\n}\ntable td[data-v-f68cf960],\n  table th[data-v-f68cf960] {\n    border: 1px solid #999;\n    border-left: 0;\n    border-top: 0;\n    text-align: center;\n}\ntable td[data-v-f68cf960]:first-child,\n    table th[data-v-f68cf960]:first-child {\n      border-left: 1px solid #999;\n}\ntable th[data-v-f68cf960] {\n    border-top: 1px solid #999;\n}\n.skuTable th[data-v-f68cf960] {\n  padding: 0 5px;\n  width: 80px;\n}\n.skuTable td[data-v-f68cf960] {\n  padding: 0 5px;\n}\nform[data-v-f68cf960] {\n  margin-top: 20px;\n  width: 980px;\n}\n.el-row--flex .el-col[data-v-f68cf960] {\n  margin-right: 20px;\n}\n.el-row--flex .el-col[data-v-f68cf960]:last-child {\n    margin-right: 0;\n}\ntd .el-checkbox-group[data-v-f68cf960] {\n  text-align: left;\n  padding-left: 20px;\n  padding-right: 4px;\n  float: left;\n}\ntd .el-checkbox-group .el-checkbox[data-v-f68cf960] {\n    display: inline-block;\n    min-width: 60px;\n}\ntd .skuLine[data-v-f68cf960] {\n  float: left;\n}\ntd .skuLine .btnBox[data-v-f68cf960] {\n    font-size: 12px;\n    cursor: pointer;\n    display: none;\n}\ntd .skuLine .btnBox.show[data-v-f68cf960] {\n      display: inline-block;\n}\n.tag .el-select[data-v-f68cf960] {\n  width: 100%;\n}\n.makesku[data-v-f68cf960] {\n  margin-top: 20px;\n}\n.skuItem[data-v-f68cf960] {\n  background: #ededed;\n  margin-bottom: 20px;\n  padding: 10px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.skuItem .firstCa[data-v-f68cf960] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n}\n.skuItem .firstCa .delete[data-v-f68cf960] {\n      padding-top: 20px;\n}\n.skuItem .inputWrapper[data-v-f68cf960] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n}\n.skuItem .inputWrapper[data-v-f68cf960] .el-input-group__prepend {\n      width: 70px;\n}\n.skuItem .mainPic[data-v-f68cf960] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: end;\n        -ms-flex-pack: end;\n            justify-content: flex-end;\n}\n.skuItem .mainPic .singlesku[data-v-f68cf960] .el-upload-list__item,\n    .skuItem .mainPic .singlesku[data-v-f68cf960] .el-upload--picture-card,\n    .skuItem .mainPic .singlesku[data-v-f68cf960] .single {\n      width: 148px;\n      height: 148px;\n}\n.skuItem form[data-v-f68cf960] {\n    width: auto;\n}\n.skuItem .el-input-group--prepend[data-v-f68cf960] {\n    margin-bottom: 10px;\n}\n[data-v-f68cf960] .el-input-group__prepend {\n  border: 0;\n  background: none;\n  padding: 0;\n  width: 50px;\n}\n.addBtn[data-v-f68cf960] {\n  float: left;\n  margin-left: 5px;\n}\n.newWuliu[data-v-f68cf960] {\n  padding-left: 20px;\n}\n.tips[data-v-f68cf960] {\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  line-height: 20px;\n  border-radius: 50%;\n  padding: 0;\n  font-size: 12px;\n  display: inline-block;\n  border: 1px solid #6c6e75;\n  color: #6c6e75;\n  cursor: pointer;\n}\n[data-v-f68cf960] .tipsInp {\n  width: 97% !important;\n}\n[data-v-f68cf960] .detailImgList li {\n  margin: 0;\n  display: block;\n}\n.bigImgPop[data-v-f68cf960] {\n  position: relative;\n}\n.bigImgPop .imgMask[data-v-f68cf960] {\n    width: 70px;\n    height: 70px;\n    background: #fff;\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.detailsBox[data-v-f68cf960] {\n  position: relative;\n  padding-bottom: 100px;\n}\n.detailsBox .detailsMain[data-v-f68cf960] {\n    max-height: 500px;\n    overflow: auto;\n}\n.detailsBox[data-v-f68cf960] .el-row {\n    position: static;\n}\n.detailsBox[data-v-f68cf960] .el-upload.el-upload--picture-card {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n}\n",""])},"7UVr":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n[data-v-23999852] .el-upload-list {\n  /*min-height: 500px;*/\n}\n[data-v-23999852] .el-upload-list__item,[data-v-23999852] .el-upload--picture-card,[data-v-23999852] .single {\n  width: 100px;\n  height: 100px;\n}\n.single[data-v-23999852] {\n  overflow: hidden;\n  position: relative;\n}\n.single[data-v-23999852] .el-upload--picture-card {\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 0;\n}\n.uploadIcon[data-v-23999852] {\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.uploadIcon .limitTxt[data-v-23999852] {\n    position: absolute;\n    bottom: 10%;\n    left: 0;\n    width: 100%;\n    font-size: 14px;\n    text-align: center;\n}\n[data-v-23999852] .el-icon-close-tip {\n  visibility: hidden;\n}\n[data-v-23999852] .el-upload-list--picture-card {\n  position: relative;\n  z-index: 1;\n}\n",""])},IOUd:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n#newgood[data-v-5d953204] {\n  padding-top: 20px;\n  padding-bottom: 10px;\n}\n#newgood .el-form-item[data-v-5d953204] {\n    /*margin-bottom: 50px;*/\n}\n#newgood .uploadExcel[data-v-5d953204] {\n    display: inline-block;\n    padding-left: 10px;\n}\n#newgood .uploadExcel[data-v-5d953204] .el-upload-list--text {\n      display: none;\n}\n#newgood .txtInput[data-v-5d953204] {\n    width: 400px;\n}\n#newgood .txtInput .el-select[data-v-5d953204] {\n      width: 100%;\n}\n",""])},KEv3:function(e,t,a){"use strict";t.a=[{value:"华东",label:"华东",children:[{value:"全部华东",label:"全部华东"},{value:"上海市",label:"上海市"},{value:"江苏省",label:"江苏省"},{value:"浙江省",label:"浙江省"},{value:"安徽省",label:"安徽省"},{value:"江西省",label:"江西省"},{value:"福建省",label:"福建省"},{value:"山东省",label:"山东省"}]},{value:"华北",label:"华北",children:[{value:"全部华北",label:"全部华北"},{value:"北京市",label:"北京市"},{value:"天津市",label:"天津市"},{value:"山西省",label:"山西省"},{value:"河北省",label:"河北省"},{value:"内蒙古自治区",label:"内蒙古自治区"}]},{value:"东北",label:"东北",children:[{value:"全部东北",label:"全部东北"},{value:"辽宁省",label:"辽宁省"},{value:"吉林省",label:"吉林省"},{value:"黑龙江省",label:"黑龙江省"}]},{value:"中南",label:"中南",children:[{value:"全部中南",label:"全部中南"},{value:"河南省",label:"河南省"},{value:"湖北省",label:"湖北省"},{value:"湖南省",label:"湖南省"},{value:"广东省",label:"广东省"},{value:"广西壮族自治区",label:"广西壮族自治区"},{value:"海南省",label:"海南省"}]},{value:"西南",label:"西南",children:[{value:"全部西南",label:"全部西南"},{value:"重庆市",label:"重庆市"},{value:"四川省",label:"四川省"},{value:"贵州省",label:"贵州省"},{value:"云南省",label:"云南省"},{value:"西藏自治区",label:"西藏自治区"}]},{value:"西北",label:"西北",children:[{value:"全部西北",label:"全部西北"},{value:"陕西省",label:"陕西省"},{value:"甘肃省",label:"甘肃省"},{value:"青海省",label:"青海省"},{value:"宁夏回族自治区",label:"宁夏回族自治区"},{value:"新疆维吾尔自治区",label:"新疆维吾尔自治区"}]},{value:"港澳台",label:"港澳台",children:[{value:"全部港澳台",label:"全部港澳台"},{value:"香港特别行政区",label:"香港特别行政区"},{value:"澳门特别行政区",label:"澳门特别行政区"},{value:"台湾省",label:"台湾省"}]},{value:"国外",label:"国外",children:[{value:"所有国外地区",label:"所有国外地区"}]}]},Q4ny:function(e,t,a){"use strict";var i=a("dkZf"),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"addForm",staticClass:"form",attrs:{model:e.addForm,rules:e.addRules}},[a("el-form-item",{attrs:{prop:"templateName",label:"模板名称"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{name:"templateName",placeholder:"请输入模板名称",disabled:e.isEdit},model:{value:e.addForm.templateName,callback:function(t){e.$set(e.addForm,"templateName",t)},expression:"addForm.templateName"}})],1),e._v(" "),e.isEdit?a("el-form-item",{attrs:{prop:"shippingAddress",label:"发货地址"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{name:"shippingAddress",disabled:"",type:"text",placeholder:"请输入发货地址"},model:{value:e.addForm.shippingAddress,callback:function(t){e.$set(e.addForm,"shippingAddress",t)},expression:"addForm.shippingAddress"}})],1):e._e(),e._v(" "),e.isAdd?a("el-form-item",{attrs:{prop:"sendProvinceVal",label:"发货地址"}},[a("el-cascader",{ref:"cascader1",attrs:{placeholder:"请选择",options:e.CityInfo,"change-on-select":!0,clearable:!0,filterable:!0},model:{value:e.addForm.sendProvinceVal,callback:function(t){e.$set(e.addForm,"sendProvinceVal",t)},expression:"addForm.sendProvinceVal"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{prop:"",label:"是否包邮"}},[a("el-radio-group",{model:{value:e.addForm.isFree,callback:function(t){e.$set(e.addForm,"isFree",t)},expression:"addForm.isFree"}},[a("el-radio",{attrs:{label:"0"}},[e._v("自定义运费")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("卖家承担运费")])],1)],1),e._v(" "),e._l(e.addForm.freight,function(t,i){return 0==e.addForm.isFree?a("el-form-item",{key:i,attrs:{label:t.name}},[a("el-input",{staticStyle:{width:"200px"},attrs:{name:"count",type:"number",min:"0.00",placeholder:"请输入运费"},model:{value:t.count,callback:function(a){e.$set(t,"count",a)},expression:"data.count"}}),e._v(" 元\n      "),0===i?a("el-button",{staticClass:"choose",attrs:{type:"primary",plain:""},on:{click:function(t){e.addArea({type:1})}}},[e._v("添加指定区域")]):e._e(),e._v(" "),i>0?a("el-button",{attrs:{type:"danger",size:"small"},nativeOn:{click:function(t){t.preventDefault(),e.delPlace(i)}}},[e._v("删除")]):e._e()],1):e._e()}),e._v(" "),e.isAdd?a("div",{staticClass:"btnBox"},[a("el-button",{attrs:{loading:e.loading},nativeOn:{click:function(t){t.preventDefault(),e.resetForm(t)}}},[e._v("重置")]),e._v(" "),a("el-button",{staticClass:"save",attrs:{type:"primary",loading:e.loading,disabled:!e.addForm.templateName||0===e.addForm.sendProvinceVal.length},nativeOn:{click:function(t){t.preventDefault(),e.addSubmit(t)}}},[e._v("保存")])],1):e._e(),e._v(" "),e.isEdit?a("div",{staticClass:"btnBox"},[a("el-button",{attrs:{loading:e.loading},nativeOn:{click:function(t){t.preventDefault(),e.delAll(t)}}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"save",attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){t.preventDefault(),e.editSubmit(t)}}},[e._v("保存")])],1):e._e()],2),e._v(" "),a("el-dialog",{attrs:{title:"为指定地区城市设置运费",visible:e.innerVisible,"append-to-body":"",width:"700px","close-on-click-modal":!1},on:{"update:visible":function(t){e.innerVisible=t}}},[a("AreaDialog",{ref:"areaRef",on:{addArea:e.addArea}})],1)],1)},staticRenderFns:[]};var r=function(e){a("TyFx")},n=a("VU/8")(i.a,s,!1,r,"data-v-4f2ec8f0",null);t.a=n.exports},SKi1:function(e,t,a){"use strict";var i=a("TIfe"),s=a("GKmE"),r=a("UgCr"),n={props:["goodItems","isEdit","reSetItem"],data:function(){return{searchdata:{oneCategoryId:"",twoCategoryId:"",threeCategoryId:"",oneCategoryName:"",twoCategoryName:"",threeCategoryName:"",brandId:"",marque:""},oneCategoryOldId:"",twoCategoryOldId:"",threeCategoryOldId:"",oneCategoryOldName:"",twoCategoryOldName:"",threeCategoryOldName:"",rules:{oneCategoryId:[{required:!0,message:"请选择",trigger:"change"}]},priceit:!1,levelone:[],leveltwo:[],levelthree:[],marquelist:[{rid:"prd1",name:" 宇宙第一瘦"}],pubBtnLoading:!1,btnLoading:!1,headerImport:{token:Object(i.a)()},shopType:3,brandList:[],standardList:[],selectStatus:!0,addSelectStatus:!1}},created:function(){this.getCategory("1","levelone",""),this.getShopType()},methods:{getShopType:function(){this.shopType=this.$store.getters.shopinfo.shopType},getLableName:function(e,t,a){for(var i=0;i<e.length;i++)e[i].id===a&&(2===t?this.searchdata.oneCategoryName=e[i].name:3===t?this.searchdata.twoCategoryName=e[i].name:this.searchdata.threeCategoryName=e[i].name)},reSelectItems:function(e,t){var a=this,i=function(){a.$confirm("更改类目会清空已录入的SKU，是否确认更改","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){2===t?(a.searchdata.oneCategoryId=e,a.getLableName(a.levelone,2,e)):3===t?(a.searchdata.twoCategoryId=e,a.getLableName(a.leveltwo,3,e)):(a.searchdata.threeCategoryId=e,a.getLableName(a.levelthree,4,e)),4===t?a.getSKU(e):a.nextlevel(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"}),2===t?(a.searchdata.oneCategoryId=a.oneCategoryOldId,a.searchdata.oneCategoryName=a.oneCategoryOldName):3===t?(a.searchdata.twoCategoryId=a.twoCategoryOldId,a.searchdata.twoCategoryName=a.twoCategoryOldName):(a.searchdata.threeCategoryId=a.threeCategoryOldId,a.searchdata.threeCategoryName=a.threeCategoryOldName)})};if(!Object(s.d)().id)return this.addSelectStatus?i():4===t?(this.getSKU(e),this.addSelectStatus=!0):this.nextlevel(t),!1;this.selectStatus?i():4===t?(this.getSKU(e),this.selectStatus=!0):this.nextlevel(t)},getSKU:function(e){var t=this;this.priceit=!0;var a=Object(s.d)().id?Object(s.d)().id:"";Object(r.j)({categoryId:e,goodsId:a}).then(function(a){if(t.standardList=a.data.standardList,t.brandList=[],t.searchdata.brandId="",3===t.shopType||""===t.threeCatId)return t.$emit("getStandard",{standardList:t.standardList,itemsId:t.searchdata,brandList:t.brandList,type:1}),!1;t.getBrand(e)})},nextlevel:function(e){var t=this,a=2===e?this.searchdata.oneCategoryId:this.searchdata.twoCategoryId,i=e;2===e?(this.searchdata.twoCategoryId="",this.leveltwo=[],this.searchdata.threeCategoryId="",this.levelthree=[],!a&&(i=1)):(this.searchdata.threeCategoryId="",this.levelthree=[],!a&&(i=2,a=this.searchdata.oneCategoryId)),Object(r.c)({level:i,pid:a}).then(function(a){2===e?t.leveltwo=a.data:t.searchdata.twoCategoryId?t.levelthree=a.data:t.leveltwo=a.data})},pricedialog:function(){var e=this;this.$refs.searchForm.validate(function(t){t&&(e.pubBtnLoading=!0,Object(r.i)(e.searchdata).then(function(t){if(1e3===t.code)e.$router.push("/product/edit?id="+t.data);else if(1017===t.code)e.$alert(t.msg,{confirmButtonText:"缴纳保证金",callback:function(t){"confirm"===t&&e.$router.push({path:"/settings",query:{type:"5"}})}});else{if(1158===t.code)return e.$message({type:"error",message:t.msg,duration:5e3}),void(e.pubBtnLoading=!1);if(1112!==t.code)return e.$message({type:"error",message:t.msg,duration:5e3}),void(e.pubBtnLoading=!1);e.$alert(t.msg,{confirmButtonText:"上传资料",callback:function(t){"confirm"===t&&e.$router.push({path:"/settings",query:{type:"2"}})}})}}).catch(function(){e.pubBtnLoading=!1}))})},getmarquelist:function(){this.searchdata.marque=""},getCategory:function(e,t,a){var i=this;Object(r.c)({level:e,pid:a}).then(function(a){i[t]=a.data,setTimeout(function(){for(var a=0;a<i[t].length;a++)if(i.goodItems[t]===i[t][a].name)return"1"===e&&(i.searchdata.oneCategoryId=i[t][a].id,i.getCategory("2","leveltwo",i[t].pid)),"2"===e&&(i.searchdata.twoCategoryId=i[t][a].id,i.getCategory("3","levelthree",i[t].pid)),"3"===e&&(i.searchdata.threeCategoryId=i[t][a].id,i.getSKU(i[t][a].id)),i.goodItems&&(i.searchdata.oneCategoryName=i.goodItems.levelone,i.searchdata.twoCategoryName=i.goodItems.leveltwo,i.searchdata.threeCategoryName=i.goodItems.levelthree),!1},300)})},getRemmenber:function(){if(this.searchdata){var e=this.searchdata.twoCategoryId,t=this.searchdata.threeCategoryId;e&&this.getCategory("2","leveltwo",this.searchdata.oneCategoryId),t&&this.getCategory("3","levelthree",this.searchdata.twoCategoryId)}},getBrand:function(e){var t=this,a={categoryId:e};Object(r.b)(a).then(function(e){e.data||t.$message({type:"error",message:e.msg,duration:5e3}),t.brandList=e.data,t.$emit("getStandard",{standardList:t.standardList,itemsId:t.searchdata,brandList:t.brandList,type:1})})}},watch:{threeCatId:function(){if(console.log(this.shopType),3===this.shopType||""===this.threeCatId)return!1;this.brandList=[],this.searchdata.brandId="",this.getBrand(this.threeCatId)},reSetItem:function(e){e&&(this.addSelectStatus=!1,this.selectStatus=!1,this.searchdata.oneCategoryId="",this.searchdata.twoCategoryId="",this.searchdata.threeCategoryId="")},"searchdata.oneCategoryId":{handler:function(e,t){this.oneCategoryOldId=t}},"searchdata.twoCategoryId":{handler:function(e,t){this.twoCategoryOldId=t}},"searchdata.threeCategoryId":{handler:function(e,t){this.threeCategoryOldId=t}}},computed:{threeCatId:function(){return this.searchdata.threeCategoryId}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"newgood"}},[a("el-form",{ref:"searchForm",attrs:{model:e.searchdata,size:"small","label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"商品类目",prop:"oneCategoryId"}},[a("el-select",{attrs:{placeholder:"选择一级类目",clearable:"",filterable:""},on:{change:function(t){return e.reSelectItems(t,2)}},model:{value:e.searchdata.oneCategoryId,callback:function(t){e.$set(e.searchdata,"oneCategoryId",t)},expression:"searchdata.oneCategoryId"}},e._l(e.levelone,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-select",{attrs:{placeholder:"商品二级类目",clearable:"",filterable:"",disabled:""==e.searchdata.oneCategoryId},on:{change:function(t){return e.reSelectItems(t,3)}},model:{value:e.searchdata.twoCategoryId,callback:function(t){e.$set(e.searchdata,"twoCategoryId",t)},expression:"searchdata.twoCategoryId"}},e._l(e.leveltwo,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-select",{attrs:{placeholder:"商品三级类目",clearable:"",filterable:"",disabled:""==e.searchdata.twoCategoryId},on:{change:function(t){return e.reSelectItems(t,4)}},model:{value:e.searchdata.threeCategoryId,callback:function(t){e.$set(e.searchdata,"threeCategoryId",t)},expression:"searchdata.threeCategoryId"}},e._l(e.levelthree,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(n,o,!1,function(e){a("nDYm")},"data-v-5d953204",null);t.a=l.exports},TyFx:function(e,t,a){var i=a("pl3a");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("1a57260a",i,!0)},cIIh:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__=__webpack_require__("woOf"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_2__components_ImgPreview__=__webpack_require__("9ZUB"),__WEBPACK_IMPORTED_MODULE_3__components_ImgUpload_index__=__webpack_require__("t5H0"),__WEBPACK_IMPORTED_MODULE_4__views_settings_components_wuliu_editWuliu__=__webpack_require__("Q4ny"),__WEBPACK_IMPORTED_MODULE_5__index__=__webpack_require__("SKi1"),__WEBPACK_IMPORTED_MODULE_6__utils_tools__=__webpack_require__("GKmE"),__WEBPACK_IMPORTED_MODULE_7__api_product__=__webpack_require__("UgCr");__webpack_exports__.a={name:"edit",components:{ImgUpload:__WEBPACK_IMPORTED_MODULE_3__components_ImgUpload_index__.a,editWuliu:__WEBPACK_IMPORTED_MODULE_4__views_settings_components_wuliu_editWuliu__.a,ItemIndex:__WEBPACK_IMPORTED_MODULE_5__index__.a,ImgPreview:__WEBPACK_IMPORTED_MODULE_2__components_ImgPreview__.a},data:function(){var e=function(e,t,a){"name"===e.field&&""===t?a(new Error("请输入商品名称")):/[`~!@#$%^&*()+?:"{},\/;']/im.test(t)||/[·！#￥（）：；“”‘、，|《。》？、【】]/im.test(t)?a(new Error("不能包含特殊字符")):a()};return{form:{name:"",remark:"",barCode:"",labelIds:[],isCrossBorder:0,brandId:"",marque:"",priceAmount:"",totalStock:0,goodsIcon:"",pics:[],details:[],primaryCategoryName:"",secondCategoryName:"",categoryName:"",oneCategoryId:"",twoCategoryId:"",threeCategoryId:"",status:0,logisticsTempId:"",skus:[],standardList:[]},rules:{name:[{validator:e,trigger:"blur"},{required:!0,min:1,max:30,message:"长度在1-30个字符",trigger:"blur"}],remark:[{validator:e,trigger:"blur"},{min:0,max:50,message:"长度在0-50个字符",trigger:"blur"}],labelIds:[{required:!0,message:"请选择商品标签",trigger:"change"}],barCode:[{max:64,message:"长度不得超过64个字符",trigger:"blur"}],brandId:[{required:!0,message:"请输入商品品牌",trigger:"blur"}],priceAmount:[{required:!0,message:"请输入原价格",trigger:"blur"}],marque:[{required:!0,message:"请输入商品货号",trigger:"blur"}],skus:[{required:!0,message:"请选择SKU",trigger:"blur"}],actualAmount:[{required:!0,message:"请输入售价",trigger:"blur"}],logisticsTempId:[{required:!0,message:"请选择物流模板",trigger:"blur"}],goodsIcon:[{required:!0,message:"请上传商品首图",trigger:"blur"}],pics:[{required:!0,message:"请上传商品主图",trigger:"blur"}],details:[{required:!0,message:"请上传商品详情图",trigger:"blur"}]},defaultsku:"",colorArr:[],skuArr:[],index:{},trafficlist:[],shopType:3,addShow:!1,templateNameList:{},tagList:[],brandList:[],newAttr:null,batchSelect:[],setParam:{color:"",size:"",actualAmount:"",stock:"",priceCode:"",picUrl:""},isEditStatus:!0,goodItems:{},goodItemsId:{},reUpload:0,reSetItem:!1,goodId:!1,keyVal:0,getSkusTimes:0,imgUrl:""}},created:function(){this.getShopType(),this.getDetail(),this.getTag(),this.getTemplateWuliu()},methods:{bigImgDo:function(e){this.imgUrl=e;var t=this.$refs.bigImgPop.$el.querySelector(".img");setTimeout(function(){t.click()},100)},resetForm:function(e){this.reUpload++,this.form.standardList=[],this.reSetItem=this.reUpload++,this.colorArr=[],this.resetbatchParam(),this.getTotalStock(),this.$refs[e].resetFields()},getStandard:function(e){this.goodItemsId=e.itemsId,this.goodId||(this.getSkusTimes=2),this.getSkusTimes>1&&(this.form.standardList=e.standardList,this.brandList=e.brandList,this.form.skus=[]),this.getSkusTimes++,this.colorArr=[];for(var t=0;t<this.form.standardList.length;t++)this.colorArr.push([]);console.log(this.colorArr),this.batchSelectData()},getTotalStock:function(){if(this.form.totalStock=0,this.form.skus.length>0)for(var e=0;e<this.form.skus.length;e++)this.form.skus[e].stock&&(this.form.totalStock+=Number(this.form.skus[e].stock))},batchSet:function(e){var t=this.setParam.color||"",a=this.setParam.size||"",i=this.form.skus;if(0===i.length)return!1;if(""===t&&""===a){for(var s=0;s<i.length;s++)this.batchParameter(i[s]);return this.getTotalStock(),this.resetbatchParam(),!1}if(this.batchSelect.length>1){if(""!==t&&""!==a)for(var r=0;r<i.length;r++)t===i[r].standard0&&a===i[r].standard1&&this.batchParameter(i[r]);if(""===t&&""!==a)for(var n=0;n<i.length;n++)a===i[n].standard1&&this.batchParameter(i[n]);if(""!==t&&""===a)for(var o=0;o<i.length;o++)t===i[o].standard0&&this.batchParameter(i[o]);return this.resetbatchParam(),this.getTotalStock(),!1}},resetbatchParam:function(){this.keyVal++,this.setParam.color="",this.setParam.size="",this.setParam.actualAmount="",this.setParam.stock="",this.setParam.priceCode="",this.setParam.picUrl=""},successUpload:function(e){this.setParam.picUrl=e.url},batchParameter:function(e){this.$set(e,"actualAmount",""!==this.setParam.actualAmount?this.setParam.actualAmount:e.actualAmount),this.$set(e,"stock",""!==this.setParam.stock?this.setParam.stock:e.stock),this.$set(e,"priceCode",""!==this.setParam.priceCode?this.setParam.priceCode:e.priceCode),this.$set(e,"picUrl",""!==this.setParam.picUrl?this.setParam.picUrl:e.picUrl)},batchSelectData:function(){for(var e=this.form.standardList,t=this.form.skus,a=[],i=[],s=0;s<t.length;s++)for(var r=t[s].standardNames.split(";"),n=0;n<r.length;n++)i.push(r[n]);for(var o=0;o<e.length;o++){e[o].valueList;var l=e[o].name;a[o]={},this.$set(a[o],"name",e[o].name),this.$set(a[o],"valueList",[]);for(var d=0;d<i.length;d++)l===i[d].split(":")[0]&&(a[o].valueList.push(i[d].split(":")[1]),a[o].valueList=this.arrNoRepeat(a[o].valueList))}this.batchSelect=a},arrNoRepeat:function(e){for(var t=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t},changestandardNames:function(e){for(var t=0;t<e.length;t++){this.$set(e[t],"newStandardNameList",[]);for(var a=e[t].standardNames.split(";"),i=0;i<a.length;i++){var s=a[i].split(":");this.$set(e[t],"standard"+i,s[1]),e[t].newStandardNameList.push(s[1])}}console.log(this.form.skus)},getDetail:function(){var e=this,t=Object(__WEBPACK_IMPORTED_MODULE_6__utils_tools__.d)();if(!t.id)return!1;Object(__WEBPACK_IMPORTED_MODULE_7__api_product__.d)(t.id).then(function(t){0===t.data.logisticsTempId&&(t.data.logisticsTempId=""),e.form=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({},e.form,t.data),e.$set(e.form,"status",t.data.status),e.form.skus=t.data.skuList,e.form.pics=t.data.picList,e.form.details=t.data.detailList,delete e.form.picList,delete e.form.skuList,delete e.form.detailList,e.getTotalStock(),e.goodItems.levelone=e.form.primaryCategoryName,e.goodItems.leveltwo=e.form.secondCategoryName,e.goodItems.levelthree=e.form.categoryName;for(var a=0;a<e.form.standardList.length;a++)e.colorArr.push([]);e.changestandardNames(e.form.skus),null===e.form.barCode&&(e.form.barCode=""),null===e.form.labelIds&&(e.form.labelIds=[]),t.data.labelIds.length>0?e.form.labelIds=t.data.labelIds.split(",").map(function(e){return+e}):e.form.labelIds=[],0===e.form.brandId&&(e.form.brandId=""),3!==e.shopType&&e.getBrand(t.data.categoryId),e.batchSelectData()})},getTag:function(){var e=this,t={goodsId:this.$route.query.id};Object(__WEBPACK_IMPORTED_MODULE_7__api_product__.g)(t).then(function(t){e.tagList=t.data})},getTemplateWuliu:function getTemplateWuliu(){var _this3=this;Object(__WEBPACK_IMPORTED_MODULE_7__api_product__.h)().then(function(res){_this3.trafficlist=res.data;for(var i=0;i<res.data.length;i++)try{res.data[i].freight=eval("("+res.data[i].freight+")"),_this3.templateNameList[res.data[i].template_name]=!0}catch(e){res.data[i].freight=[]}})},getShopType:function(){this.shopType=this.$store.getters.shopinfo.shopType,this.goodId=!!Object(__WEBPACK_IMPORTED_MODULE_6__utils_tools__.d)().id},picList:function(e){var t=this.form[e];if(!t)return[];if("string"==typeof t)return[t];for(var a=[],i=0;i<t.length;i++)a.push(t[i].split(";")[0]);return a},inputNum:function(e,t,a){"1"===e&&a<=0?this.form.skus[t].actualAmount=-a:"2"===e&&(this.form.skus[t].stock=Math.ceil(Math.abs(a))),this.getTotalStock()},addStandard:function(e){for(var t=this,a=[],i=0;i<this.form.standardList.length;i++)if(this.form.standardList[i].name==e){a=this.form.standardList[i].valueList;break}var s=a.join(",")+",";this.$prompt("请输入属性值","添加属性11",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/.+/,inputValidator:function(e){return console.log(e),!s.includes(":"+e+",")||"该属性值已存在"},inputErrorMessage:"请输入属性值"}).then(function(a){t.newAttr=a.value,t.pushStandardList(e,a.value)}).catch(function(){})},editStandard:function(e,t){for(var a,i=this,s=[],r=0;r<this.form.standardList.length;r++)if(this.form.standardList[r].name==e){s=this.form.standardList[r].valueList;break}if((a=s.indexOf("1111:"+this.newAttr))<=-1)return!1;var n=s.join(",")+",";this.$prompt("请修改属性值","编辑属性",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/.+/,inputValue:this.newAttr,inputValidator:function(e){return!n.includes(":"+e+",")||"该属性值已存在"},inputErrorMessage:"请输入属性值"}).then(function(e){i.$set(s,a,"1111:"+e.value),console.log(s),i.newAttr=e.value}).catch(function(){})},pushStandardList:function(e,t){for(var a=this.form.standardList,i=0;i<a.length;i++)a[i].name==e&&a[i].valueList.push("1111:"+t)},deleteStandardList:function(e,t){console.log(e+":"+t);for(var a=this.form.standardList,i=null,s=0;s<a.length;s++)a[s].name==e&&(i=a[s].valueList.indexOf("1111:"+t))>-1&&a[s].valueList.splice(i,1)},hoverHandle:function(e,t){var a=e.target;if(!a.children[1])return!1;a.children[1].style=0==t?"display:none;":"display:inline-block;"},getAllUnselect:function(e){for(var t=this.form.skus,a=0;a<t.length;a++)t[a].isDefault=!1;this.form.skus=JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(t))},changeDefault:function(e){this.defaultsku==e?(this.getAllUnselect(),this.defaultsku=""):(this.getAllUnselect(),this.form.skus[e-1].isDefault=!0,this.defaultsku=e)},setData:function(e,t){this.form[e]="goodsIcon"===e?t[0]||"":t},setSkuData:function(e,t){this.form.skus[e].picUrl=t[0]||""},makeSku:function(){this.form.skus=[],this.specialSort(-1),this.batchSelectData(),console.log(this.form.skus)},deleteSize:function(e){for(var t=0;t<this.form.skus.length;t++)this.form.skus[t].standardNames==e&&this.form.skus.splice(t,1);this.getTotalStock()},getCleanArray:function(e){for(var t=[],a=0;a<e.length;a++)e[a].length>0&&t.push(e[a]);return t},specialSort:function(e){var t=this.getCleanArray(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()([],this.colorArr)),a=t.length,i=this.index;if(!(++e>a-1)){for(i[e]||(i[e]=0),t[e]instanceof Array||(t[e]=[t[e]]),i[e]=0;i[e]<t[e].length;i[e]++)if(this.specialSort(e),e==a-1){for(var s=[],r=a-1;r>=0;r--)t[e-r]instanceof Array||(t[e-r]=[t[e-r]]),s.push(t[e-r][i[e-r]]);this.form.skus.push({standardNames:s.join(";"),isDefault:!1,idd:Object(__WEBPACK_IMPORTED_MODULE_6__utils_tools__.a)()})}this.changestandardNames(this.form.skus)}},backTo:function(){this.$router.go(-1)},selectcolor:function(e){},numberVal:function(){"null"!=this.form.remark&&null!=this.form.remark||(this.form.remark="");for(var e=JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.form)),t=e.skus,a=0;a<t.length;a++)t[a].actualAmount*=1,t[a].stock*=1;return e.oneCategoryId=this.goodItemsId.oneCategoryId,e.twoCategoryId=this.goodItemsId.twoCategoryId,e.threeCategoryId=this.goodItemsId.threeCategoryId,e.primaryCategoryName=this.goodItemsId.oneCategoryName,e.secondCategoryName=this.goodItemsId.twoCategoryName,e.categoryName=this.goodItemsId.threeCategoryName,e.skus=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e.skus),e.pics=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e.pics),e.details=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e.details),e.standardList=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e.standardList),e.labelIds=e.labelIds.join(),console.log(e),e},validSkuSubItem:function(){for(var e=this.form.skus,t=!0,a="",i=0;i<e.length;i++){if(void 0===e[i].actualAmount||void 0===e[i].stock||0===e[i].actualAmount.length||0===e[i].stock.length){t=!1,a="请完整填写SKU信息";break}if(/^[0-9]+$/.test(e[i].stock))if(/^[0-9]+.?[0-9]{0,2}$/.test(e[i].actualAmount)&&"0"!=e[i].actualAmount){if(e[i].name){(/[`~!@#$%^&*()+?:"{},\/;']/im.test(e[i].name)||/[·！#￥（）：；“”‘、，|《。》？、【】]/im.test(e[i].name))&&(t=!1,a="规格标题不能包含特殊字符")}}else t=!1,a="售价请输入大于0的数字或包含两位小数的数值";else t=!1,a="库存量只能为0或正整数"}return{flag:t,msg:a}},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.warning("信息填写有误，请检查后重新发布！"),!1;var a=t.validSkuSubItem();if(a.flag){t.form.standardList=[];var i=t.numberVal();Object(__WEBPACK_IMPORTED_MODULE_6__utils_tools__.d)().id?Object(__WEBPACK_IMPORTED_MODULE_7__api_product__.m)(i).then(function(e){0===t.form.status?t.$router.push("/product/storePro"):t.$router.push("/product/salePro"),t.$message({type:"success",message:"提交成功"})}):Object(__WEBPACK_IMPORTED_MODULE_7__api_product__.k)(i).then(function(e){return 1017===e.code?(t.$message.warning(e.msg),!1):1158===e.code?(t.$message.warning(e.msg),!1):1112===e.code?(t.$message.warning(e.msg),!1):(0===t.form.status?t.$router.push("/product/storePro"):t.$router.push("/product/salePro"),void t.$message({type:"success",message:"提交成功"}))})}else t.$message.warning(a.msg)})},newWuliu:function(){this.addShow=!0},close:function(){this.getTemplateWuliu(),this.addShow=!1},getBrand:function(e){var t=this,a={categoryId:e};Object(__WEBPACK_IMPORTED_MODULE_7__api_product__.b)(a).then(function(e){e.data||t.$message({type:"error",message:e.msg,duration:5e3}),t.brandList=e.data})}}}},dkZf:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_3__views_shopApply_area_js__=__webpack_require__("YQow"),__WEBPACK_IMPORTED_MODULE_4__views_settings_wuliuData_js__=__webpack_require__("KEv3"),__WEBPACK_IMPORTED_MODULE_5__api_settings__=__webpack_require__("WG86"),__WEBPACK_IMPORTED_MODULE_6__views_settings_components_wuliu_AreaDialog__=__webpack_require__("q0kM");__webpack_exports__.a={props:["visible","id","templateNameList","isAdd","isEdit"],components:{AreaDialog:__WEBPACK_IMPORTED_MODULE_6__views_settings_components_wuliu_AreaDialog__.a},data:function(){var e=this;return{addForm:{templateName:"",isFree:"1",shippingAddress:"",freight:[{name:"默认运费",count:0}],sendProvinceVal:[]},addRules:{templateName:[{required:!0,trigger:"blur",validator:function(t,a,i){a.length<=0?i(new Error("模板名称不能为空")):e.templateNameList[a]?i(new Error("模板名称不能重复")):i()}}],sendProvinceVal:[{required:!0,trigger:"change",message:"发货地址不能为空"}]},disabledBtn:!0,loading:!1,CityInfo:__WEBPACK_IMPORTED_MODULE_3__views_shopApply_area_js__.a,wuliuInfo:__WEBPACK_IMPORTED_MODULE_4__views_settings_wuliuData_js__.a,innerVisible:!1}},created:function(){this.isEdit&&this.init()},methods:{init:function init(){var _this2=this;return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.mark(function _callee(){return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(__WEBPACK_IMPORTED_MODULE_5__api_settings__.r)({id:_this2.id}).then(function(res){try{res.data.freight=eval("("+res.data.freight+")")}catch(e){res.data.freight=[]}res.data.isFree=res.data.isFree.toString(),_this2.addForm=res.data});case 2:case"end":return _context.stop()}},_callee,_this2)}))()},delPlace:function(e){this.addForm.freight.splice(e,1)},delAll:function(){this.$emit("visible",!1)},editSubmit:function(){var e=this;if(!this.judgeValue()){this.loading=!1;var t={templateName:this.addForm.templateName,isFree:this.addForm.isFree,shippingAddress:this.addForm.shippingAddress,id:this.id},a=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.addForm.freight);t.freight=a,Object(__WEBPACK_IMPORTED_MODULE_5__api_settings__.H)(t).then(function(){e.$message({message:"物流模板修改成功",type:"success"}),e.$emit("visible",!1)}).catch(function(){e.loading=!1})}},addSubmit:function(){var e=this;if(!this.judgeValue()){var t="";this.$refs.addForm.validate(function(a){if(!a)return!1;e.loading=!1,function e(a,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(i[s])for(var r=0;r<a.length;r++)if(a[r].value==i[s])return t+=a[r].label,s+=1,e(a[r].children,i,s)}(__WEBPACK_IMPORTED_MODULE_3__views_shopApply_area_js__.a,e.addForm.sendProvinceVal),e.addForm.shippingAddress=t;var i={templateName:e.addForm.templateName,isFree:e.addForm.isFree,shippingAddress:e.addForm.shippingAddress},s=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e.addForm.freight);i.freight=s,Object(__WEBPACK_IMPORTED_MODULE_5__api_settings__.f)(i).then(function(){e.$message({message:"物流模板添加成功",type:"success"}),e.$emit("visible",!1)}).catch(function(){e.loading=!1})})}},judgeValue:function(){if("0"==this.addForm.isFree){var e=this.addForm.freight.length;if(e>0)for(var t=0;t<e;t++){var a=this.addForm.freight[t].count;if(parseInt(a)<0||parseInt(a)!=a)return this.$message({type:"warning",message:"运费请输入大于或等于0的整数"}),!0}}},addArea:function(e){var t=this;if(1===e.type)this.$refs.areaRef&&this.$refs.areaRef.reset(),this.innerVisible=!0;else if(0===e.type&&(this.innerVisible=!1,e.data)){var a=[];this.addForm.freight.forEach(function(t,i){var s=e.data.indexOf(t.name);-1!==s&&(a.push(e.data[s]),e.data.splice(s,1))}),e.data.forEach(function(e,a){t.addForm.freight.push({name:e,count:0})}),a.length>0&&this.$message({type:"warning",message:a.join("、")+" 已存在"})}},resetForm:function(){var e=this;this.addForm.templateName="",this.addForm.shippingAddress="",this.addForm.freight=[{name:"默认运费",count:0}],this.addForm.sendProvinceVal=[],this.$nextTick(function(){e.$refs.addForm.clearValidate()})}}}},nDYm:function(e,t,a){var i=a("IOUd");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("1bb7570f",i,!0)},pl3a:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.form[data-v-4f2ec8f0] {\n  padding: 20px;\n}\n.el-form-item[data-v-4f2ec8f0] .el-form-item__label {\n  width: 130px;\n}\n.el-form-item .el-button--danger[data-v-4f2ec8f0] {\n  margin-left: 20px;\n}\n[data-v-4f2ec8f0] .el-dialog__body {\n  padding-top: 10px;\n}\n.el-form[data-v-4f2ec8f0] {\n  padding-top: 0;\n  padding-bottom: 0;\n}\n[data-v-4f2ec8f0] .el-form-item__error {\n  padding-left: 130px;\n}\n.el-cascader[data-v-4f2ec8f0] {\n  width: 300px;\n}\n.btnBox[data-v-4f2ec8f0] {\n  padding-top: 20px;\n  padding-right: 20px;\n  text-align: right;\n}\n.choose[data-v-4f2ec8f0] {\n  margin-left: 20px;\n  padding: 12px;\n}\n",""])},q0kM:function(e,t,a){"use strict";var i=a("fZjL"),s=a.n(i),r=a("mvHQ"),n=a.n(r),o=a("KEv3");function l(){var e=JSON.parse(n()(o.a)),t={},a={},i={};return e.forEach(function(s,r){r<e.length-1&&s.children.splice(0,1),t["isIndeterminate"+r]=!1,a["checkAll"+r]=!1,i["checkedCities"+r]=[]}),{data:e,isIndeterminate:t,checkAll:a,checkedCities:i}}var d={props:[],data:function(){return{data:l().data,isIndeterminate:l().isIndeterminate,checkAll:l().checkAll,checkedCities:l().checkedCities}},created:function(){},methods:{reset:function(){this.isIndeterminate=l().isIndeterminate,this.checkAll=l().checkAll,this.checkedCities=l().checkedCities},handleCheckAllChange:function(e){this.checkedCities["checkedCities"+e]=this.checkAll["checkAll"+e]?this.data[e].children.map(function(e){return e.value}):[],this.isIndeterminate["isIndeterminate"+e]=!1},handleCheckedCitiesChange:function(e){var t=this.checkedCities["checkedCities"+e].length;this.checkAll["checkAll"+e]=t===this.data[e].children.length,this.isIndeterminate["isIndeterminate"+e]=t>0&&t<this.data[e].children.length},cancel:function(){this.$emit("addArea",{type:0})},confirm:function(){var e=this,t=[];s()(this.checkedCities).forEach(function(a,i){t=t.concat(e.checkedCities[a])}),0!==t.length?this.$emit("addArea",{type:0,data:t}):this.$message({type:"warning",message:"请选择城市"})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AreaDialog"},[e._l(e.data,function(t,i){return a("div",{key:t.value,staticClass:"area"},[a("div",[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate["isIndeterminate"+i]},on:{change:function(t){e.handleCheckAllChange(i)}},model:{value:e.checkAll["checkAll"+i],callback:function(t){e.$set(e.checkAll,"checkAll"+i,t)},expression:"checkAll['checkAll'+i]"}},[e._v(e._s(t.label))])],1),e._v(" "),a("div",{staticClass:"city"},[a("el-checkbox-group",{on:{change:function(t){e.handleCheckedCitiesChange(i)}},model:{value:e.checkedCities["checkedCities"+i],callback:function(t){e.$set(e.checkedCities,"checkedCities"+i,t)},expression:"checkedCities['checkedCities'+i]"}},e._l(t.children,function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.label}},[e._v(e._s(t.label))])}))],1)])}),e._v(" "),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"default"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定")])],1)],2)},staticRenderFns:[]};var u=a("VU/8")(d,c,!1,function(e){a("rXjU")},"data-v-2707dfaa",null);t.a=u.exports},r78Z:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.area[data-v-2707dfaa] {\n  padding-bottom: 10px;\n}\n.area > div[data-v-2707dfaa]:first-child {\n  padding-bottom: 5px;\n}\n.city[data-v-2707dfaa] {\n  padding-left: 50px;\n}\n.city .el-checkbox[data-v-2707dfaa] {\n  width: 110px;\n  margin-left: 0;\n  margin-right: 30px;\n  margin-bottom: 5px;\n}\n.btn[data-v-2707dfaa] {\n  text-align: right;\n  padding-right: 50px;\n}\n",""])},rXjU:function(e,t,a){var i=a("r78Z");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("761a7d8f",i,!0)},t5H0:function(e,t,a){"use strict";var i=a("TIfe"),s=a("E4LH"),r=a("GKmE"),n={name:"ImgUpload",props:{onSetData:{type:Function},backImages:{type:Array,default:function(){return[]}},limit:{type:Number,default:999},size:{type:Number,default:500},isSingle:{type:Boolean,default:!1},onSuccess:{type:Function,default:function(){return new Function}},onRemove:{type:Function,default:function(){return new Function}}},data:function(){return{headers:{token:Object(i.a)()},isFirstMount:!0}},mounted:function(){this.backImages.length>0&&this.setBackData()},watch:{backImages:function(e,t){this.isFirstMount&&e.length>0&&this.setBackData()}},methods:{beforeAvatarUpload:function(e){return this.isFirstMount=!1,Object(s.e)(e,this.size)},successUpload:function(e,t,a){if(1e3!==e.code)return this.$message({type:"error",message:e.msg}),void this.$refs.uploadRef.uploadFiles.pop();this.onSuccess(e),this.onSetData(this.getUploadedList())},removeFile:function(e,t){this.onRemove(e),this.onSetData(this.getUploadedList())},handleExceed:function(){this.$message({type:"warning",message:"最多可上传"+this.limit+"个文件"})},getUploadedList:function(){return this.$refs.uploadRef.uploadFiles.map(function(e){return e.response?e.response.url:e.url})},setBackData:function(){var e=this;this.backImages.forEach(function(t,a){e.$refs.uploadRef.uploadFiles.push({name:"pic"+a,url:t,status:"success",uid:Object(r.a)()})}),this.isFirstMount=!1}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"uploadWrapper"},[a("el-upload",{ref:"uploadRef",staticClass:"uploadBox",class:{single:e.isSingle},attrs:{action:"/shop/upload/uploadFile",headers:e.headers,"show-if-list":!1,"list-type":"picture-card",limit:e.limit,multiple:!e.isSingle,"before-upload":e.beforeAvatarUpload,"on-success":e.successUpload,"on-remove":e.removeFile,"on-exceed":e.handleExceed}},[a("i",{staticClass:"el-icon-plus uploadIcon"},[e.limit&&999!==e.limit&&!e.isSingle?a("span",{staticClass:"limitTxt"},[e._v("最多"+e._s(e.limit)+"张")]):e._e()])])],1)},staticRenderFns:[]};var l=a("VU/8")(n,o,!1,function(e){a("1xro")},"data-v-23999852",null);t.a=l.exports},uvSY:function(e,t,a){var i=a("4nAA");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("01ee877a",i,!0)},vxGb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("cIIh"),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"editProduct"},[e.goodId?a("el-button",{on:{click:e.backTo}},[e._v("返回")]):e._e(),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{width:"980px","margin-top":"30px"}},[a("div",{staticClass:"text item"},[a("item-index",{attrs:{goodItems:e.goodItems,reSetItem:e.reSetItem,isEdit:e.isEditStatus},on:{getStandard:e.getStandard}})],1)]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[a("el-card",{staticClass:"box-card productCard"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基础信息")])]),e._v(" "),a("div",{staticClass:"text item"},[a("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[a("el-input",{staticClass:"tipsInp",attrs:{placeholder:"请输入1-30个字符"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),a("span",{staticClass:"tips",on:{click:function(t){e.bigImgDo("https://img.51fanbei.com/h5/pc/shop02.jpg")}}},[e._v("?")])],1),e._v(" "),a("el-form-item",{attrs:{label:"备注(副标题)",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输入0-50个字符"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品条形码",prop:"barCode"}},[a("el-input",{model:{value:e.form.barCode,callback:function(t){e.$set(e.form,"barCode",t)},expression:"form.barCode"}})],1),e._v(" "),a("el-form-item",{staticClass:"tag",attrs:{label:"商品标签",prop:"labelIds"}},[a("el-select",{staticClass:"tipsInp",attrs:{multiple:""},model:{value:e.form.labelIds,callback:function(t){e.$set(e.form,"labelIds",t)},expression:"form.labelIds"}},e._l(e.tagList,function(e){return a("el-option",{key:e.id,attrs:{label:e.labelName,value:e.id}})})),e._v(" "),a("span",{staticClass:"tips",on:{click:function(t){e.bigImgDo("https://img.51fanbei.com/h5/pc/shop01.jpg")}}},[e._v("?")])],1),e._v(" "),3!==e.shopType?a("el-form-item",{staticClass:"tag",attrs:{label:"商品品牌",prop:"brandId"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.form.brandId,callback:function(t){e.$set(e.form,"brandId",t)},expression:"form.brandId"}},e._l(e.brandList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"商品货号",prop:"marque"}},[a("el-input",{model:{value:e.form.marque,callback:function(t){e.$set(e.form,"marque",t)},expression:"form.marque"}})],1)],1)]),e._v(" "),a("el-card",{staticClass:"box-card productCard"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("销售信息")])]),e._v(" "),a("div",{staticClass:"text item"},[a("el-form-item",{attrs:{label:"SKU表",prop:"colorArr"}},[a("table",{attrs:{cellspacing:"0",cellpadding:"0"}},[a("thead",[a("tr",[a("th",[e._v("规格")]),e._v(" "),a("th",[e._v("规格属性")])])]),e._v(" "),a("tbody",{key:e.getSkusTimes},e._l(e.form.standardList,function(t,i){return e.form.standardList.length>0?a("tr",{key:i},[a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._l(t.valueList,function(s,r){return a("div",{key:r,staticClass:"skuLine",on:{mouseenter:function(t){e.hoverHandle(t,1)},mouseleave:function(t){e.hoverHandle(t,0)}}},[a("el-checkbox-group",{on:{change:e.selectcolor},model:{value:e.colorArr[i],callback:function(t){e.$set(e.colorArr,i,t)},expression:"colorArr[idx]"}},[a("el-checkbox",{attrs:{label:t.name+":"+s.split(":")[1]}},[e._v(e._s(s.split(":")[1]))])],1),e._v(" "),t&&t.valueList[r].split(":")[0]!=s.split(":")[0]?a("p",{staticClass:"btnBox"},[a("span",{staticClass:"btn",on:{click:function(a){e.deleteStandardList(t.name,s.split(":")[1])}}},[e._v("删除")]),e._v(" "),a("span",{staticClass:"btn",on:{click:function(a){e.editStandard(t.name,s.split(":")[1])}}},[e._v("编辑")])]):e._e()],1)}),e._v(" "),a("el-button",{staticClass:"addBtn",attrs:{type:"text"},on:{click:function(a){e.addStandard(t.name)}}},[e._v("新增")])],2)]):e._e()}))]),e._v(" "),a("el-button",{staticClass:"makesku",attrs:{type:"primary"},on:{click:e.makeSku}},[e._v("生成SKU")])],1),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"skus"}},[e.form.skus.length>0?a("div",[a("div",[a("table",{key:e.keyVal,staticClass:"skuTable"},[a("tr",[e._l(e.batchSelect,function(t,i){return t.valueList.length>0?a("th",[e._v(e._s(t.name))]):e._e()}),e._v(" "),a("th",[e._v("价格")]),e._v(" "),a("th",[e._v("库存")]),e._v(" "),a("th",[e._v("编码")]),e._v(" "),a("th",[e._v("规格主图")]),e._v(" "),a("th",[e._v("操作 "),a("span",{staticClass:"tips",on:{click:function(t){e.bigImgDo("https://img.51fanbei.com/h5/pc/shop06.jpg")}}},[e._v("?")])])],2),e._v(" "),e._l(e.form.skus,function(t,i){return a("tr",{key:t.id||t.idd},[e._l(t.newStandardNameList,function(t,i){return a("td",[e._v(e._s(t))])}),e._v(" "),a("td",[a("el-input",{attrs:{type:"number"},on:{input:function(t){e.inputNum("1",i,e.form.skus[i].actualAmount)}},model:{value:e.form.skus[i].actualAmount,callback:function(t){e.$set(e.form.skus[i],"actualAmount",t)},expression:"form.skus[i].actualAmount"}})],1),e._v(" "),a("td",[a("el-input",{attrs:{type:"number"},on:{input:function(t){e.inputNum("2",i,e.form.skus[i].stock)}},model:{value:e.form.skus[i].stock,callback:function(t){e.$set(e.form.skus[i],"stock",t)},expression:"form.skus[i].stock"}})],1),e._v(" "),a("td",[a("el-input",{model:{value:e.form.skus[i].priceCode,callback:function(t){e.$set(e.form.skus[i],"priceCode",t)},expression:"form.skus[i].priceCode"}})],1),e._v(" "),a("td",[a("div",{staticClass:"upload-wrapper singlesku"},[a("ImgUpload",{attrs:{backImages:e.form.skus[i].picUrl?[e.form.skus[i].picUrl]:[],isSingle:!0,onSetData:e.setSkuData.bind(null,i)}})],1)]),e._v(" "),a("td",[a("div",{staticClass:"delete"},[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.deleteSize(t.standardNames)}}},[e._v("删除规格")]),e._v(" "),a("el-checkbox",{on:{change:function(t){e.changeDefault(i+1)}},model:{value:e.form.skus[i].isDefault,callback:function(t){e.$set(e.form.skus[i],"isDefault",t)},expression:"form.skus[i].isDefault"}},[e._v("设为默认")])],1)])],2)})],2)])]):e._e()]),e._v(" "),a("el-form-item",{attrs:{label:"市场价格",prop:"priceAmount"}},[a("el-input",{attrs:{type:"number"},model:{value:e.form.priceAmount,callback:function(t){e.$set(e.form,"priceAmount",t)},expression:"form.priceAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"总库存"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.totalStock,callback:function(t){e.$set(e.form,"totalStock",t)},expression:"form.totalStock"}})],1)],1)]),e._v(" "),a("el-card",{staticClass:"box-card productCard"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("描述信息")])]),e._v(" "),a("div",{staticClass:"text item"},[a("el-form-item",{attrs:{label:"商品首图",prop:"goodsIcon"}},[a("el-row",[a("span",[e._v("图片尺寸800*800，图片清晰，不添加水印；单张图片小于500kb，支持jpg、png图片格式")]),e._v(" "),a("span",{staticClass:"tips",on:{click:function(t){e.bigImgDo("https://img.51fanbei.com/h5/pc/shop04.jpg")}}},[e._v("?")])]),e._v(" "),a("el-row",[a("ImgUpload",{key:e.reUpload,attrs:{limit:1,backImages:e.picList("goodsIcon"),onSetData:e.setData.bind(null,"goodsIcon")}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商品主图",prop:"pics"}},[a("el-row",[a("span",[e._v("可与商品主图一致。图片尺寸800*800，图片清晰，不添加水印；单张图片小于500kb，支持jpg、png图片格式")]),e._v(" "),a("span",{staticClass:"tips",on:{click:function(t){e.bigImgDo("https://img.51fanbei.com/h5/pc/shop04.jpg")}}},[e._v("?")])]),e._v(" "),a("el-row",[a("ImgUpload",{key:e.reUpload,attrs:{limit:4,backImages:e.picList("pics"),onSetData:e.setData.bind(null,"pics")}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"详情图",prop:"details"}},[a("el-row",[a("span",[e._v("宽为750-800px，单张图片小于500kb，图片清晰，支持jpg、png图片格式")]),e._v(" "),a("span",{staticClass:"tips",on:{click:function(t){e.bigImgDo("https://img.51fanbei.com/h5/pc/shop05.jpg")}}},[e._v("?")])]),e._v(" "),a("div",{staticClass:"detailsBox"},[a("div",{staticClass:"detailsMain"},[a("el-row",{staticClass:"detailsImg"},[a("ImgUpload",{key:e.reUpload,staticClass:"detailImgList",attrs:{limit:16,backImages:e.picList("details"),onSetData:e.setData.bind(null,"details")}})],1)],1)])],1)],1)]),e._v(" "),a("el-card",{staticClass:"box-card productCard"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("物流信息")])]),e._v(" "),a("div",{staticClass:"text item"},[a("el-form-item",{attrs:{label:"商品来源"}},[a("el-radio",{attrs:{label:0},model:{value:e.form.isCrossBorder,callback:function(t){e.$set(e.form,"isCrossBorder",t)},expression:"form.isCrossBorder"}},[e._v("国内")]),e._v(" "),a("el-radio",{attrs:{label:1},model:{value:e.form.isCrossBorder,callback:function(t){e.$set(e.form,"isCrossBorder",t)},expression:"form.isCrossBorder"}},[e._v("海淘")])],1),e._v(" "),a("el-form-item",{attrs:{label:"物流配送",prop:"logisticsTempId"}},[a("el-select",{attrs:{placeholder:"请选择物流模板"},model:{value:e.form.logisticsTempId,callback:function(t){e.$set(e.form,"logisticsTempId",t)},expression:"form.logisticsTempId"}},e._l(e.trafficlist,function(e){return a("el-option",{key:e.id,attrs:{label:e.template_name,value:e.id}})})),e._v(" "),a("el-button",{staticClass:"newWuliu",attrs:{type:"text"},on:{click:e.newWuliu}},[e._v("新增物流模板")])],1)],1)]),e._v(" "),a("el-card",{staticClass:"box-card productCard"},[a("div",{staticClass:"text item"},[a("el-form-item",{attrs:{label:"上架状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-radio",{attrs:{label:1}},[e._v("立刻上架")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("放入仓库")])],1)],1)],1)]),e._v(" "),a("el-form-item",[a("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("清空重新编辑")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("确认发布")])],1)],1),e._v(" "),e.addShow?a("el-dialog",{attrs:{title:"新增物流模板",visible:e.addShow,"append-to-body":"",width:"700px"},on:{"update:visible":function(t){e.addShow=t}}},[a("editWuliu",{attrs:{templateNameList:e.templateNameList,isAdd:!0},on:{visible:e.close}})],1):e._e(),e._v(" "),a("div",{staticClass:"bigImgPop"},[a("p",{staticClass:"imgMask"}),e._v(" "),a("ImgPreview",{ref:"bigImgPop",attrs:{imgList:[e.imgUrl]}})],1)],1)},staticRenderFns:[]};var r=function(e){a("uvSY")},n=a("VU/8")(i.a,s,!1,r,"data-v-f68cf960",null);t.default=n.exports}});