webpackJsonp([15],{"8W2Q":function(t,e,a){var n=a("ujpn");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("0d55b1a7",n,!0)},Ecop:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),i=a.n(n),s=a("MZ5m"),o=a("mvHQ"),r=a.n(o),l=a("7bg0"),d=a("1onU"),c=a("7hsi"),u=a("vHhr"),p={props:["searchData","tabsValue"],data:function(){return{orderList:[],pagination:{currentPage:1,pageSize:20,totalCount:0},btnLoading:!1,importApi:{url:"",headers:{}},loading:!1}},created:function(){"0"===this.tabsValue&&this.getImportApi(),this.handleCurrentChange(1)},methods:{mountOrderAndGoods:function(){var t=this;this.loading=!0;var e="";switch(this.tabsValue){case"0":e="PAID";break;case"1":e="DELIVERED";break;case"2":e="FINISHED";break;case"3":e="CLOSED";break;default:e="ALL"}var a=JSON.parse(r()(this.searchData));a.status=e,a.currentPage=this.pagination.currentPage,Object(s.j)(a).then(function(e){if(e.data.length<=0&&a.currentPage>1)t.handleCurrentChange(1);else{if(t.pagination.totalCount=e.totalCount,t.pagination.pageSize=e.pageSize,0===e.data.length)return t.orderList=[],void(t.loading=!1);t.orderList=e.data,t.loading=!1}}).catch(function(){t.loading=!1})},handleCurrentChange:function(t){this.pagination.currentPage=t,this.mountOrderAndGoods()},isSuccessFn:function(t){t&&this.handleCurrentChange(this.pagination.currentPage)},beforeUpload:function(){this.btnLoading=!0,this.$message({message:"上传处理中，请耐心等待..."})},uploadSuccess:function(t){this.btnLoading=!1,1e3===t.code?(this.$alert(t.data,"处理完成",{confirmButtonText:"确定",callback:function(t){}}),this.handleCurrentChange(1)):this.$message({message:"上传处理错误，请重新尝试"})},downloadModel:function(){window.open(Object(s.h)())},getImportApi:function(){this.importApi={url:Object(s.q)().url,headers:Object(s.q)().headers}}},watch:{searchData:function(t){this.handleCurrentChange(1)}},components:{EditDialog:l.a,Pagination:d.a,Sticky:u.a},filters:{orderStatusTrans:c.i}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goodsList"},[a("Sticky",[a("div",{staticClass:"tableTitle"},[a("ul",[a("li",[t._v("商品")]),t._v(" "),a("li",[t._v("商品条形码")]),t._v(" "),a("li",[t._v("单价")]),t._v(" "),a("li",[t._v("数量")]),t._v(" "),a("li",[t._v("买家")]),t._v(" "),a("li",[t._v("订单状态")]),t._v(" "),a("li",[t._v("实付款")]),t._v(" "),a("li",[t._v("操作")])])])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"orderListWrap"},t._l(t.orderList,function(e){return a("el-card",{key:e.id,staticClass:"orderList"},[a("div",{staticClass:"listTitle",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"listTitleL"},[a("span",{staticClass:"orderNum"},[t._v("订单号："+t._s(e.orderNo))])]),t._v(" "),a("div",{staticClass:"listTitleR"},[a("span",[t._v("创建时间："+t._s(e.gmtCreate))])])]),t._v(" "),a("div",{staticClass:"listContent"},[a("ul",[a("li",[a("div",{staticClass:"goodsHead"},[a("div",{staticClass:"goodsImage"},[a("div",{staticClass:"imgWrap"},[a("img",{attrs:{src:e.goodsIcon,alt:"photo"}})])]),t._v(" "),a("div",{staticClass:"goodsTitle"},[a("p",[t._v(t._s(e.goodsName))]),t._v(" "),a("p",[t._v(t._s(e.priceName))])])])]),t._v(" "),a("li",[t._v(t._s(e.barCode))]),t._v(" "),a("li",[t._v("￥"+t._s(e.priceAmount))]),t._v(" "),a("li",[t._v(t._s(e.count))]),t._v(" "),a("li",[t._v(t._s(e.account))]),t._v(" "),a("li",[t._v(t._s(t._f("orderStatusTrans")(e.status)))]),t._v(" "),a("li",[a("p",{staticClass:"realPay"},[t._v("￥"+t._s(e.actualPayAmount))]),t._v(" "),a("p",[t._v(t._s(e.freightAmount?"（含快递："+e.freightAmount+"）":""))])]),t._v(" "),a("li",{staticClass:"operation"},[a("p",{staticClass:"detail"},[a("router-link",{attrs:{to:"/deal/orderDetail/"+e.orderNo}},[t._v("查看详情")])],1),t._v(" "),"0"===t.tabsValue?a("p",[a("EditDialog",{attrs:{isModify:!1,orderId:e.id,type:"0"},on:{isSuccessFn:t.isSuccessFn}})],1):t._e()])])])])})),t._v(" "),a("Pagination",{attrs:{pageNo:t.pagination.currentPage,pageSize:t.pagination.pageSize,totalCount:t.pagination.totalCount,handleChange:t.handleCurrentChange}}),t._v(" "),"0"===t.tabsValue?a("div",{staticClass:"sendOrder"},[a("div",{staticClass:"sendButton"},[a("el-upload",{staticClass:"uploadExcel",attrs:{action:t.importApi.url,disable:t.btnLoading,headers:t.importApi.headers,accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel","on-success":t.uploadSuccess,"before-upload":t.beforeUpload}},[a("el-button",{attrs:{type:"primary"}},[t._v("导入发货")])],1),t._v(" "),a("el-button",{staticClass:"downloadExcel",on:{click:t.downloadModel}},[t._v("下载发货模板")])],1)]):t._e()],1)},staticRenderFns:[]};var g=a("VU/8")(p,h,!1,function(t){a("i3y1")},"data-v-27fa6ae9",null).exports,f=a("GKmE"),v={data:function(){return{firstCategoryList:[],secondCategoryList:[],thirdCategoryList:[],secondDis:!0,thirdDis:!0,firstCategoryValue:"",secondCategoryValue:"",thirdCategoryValue:"",dateRange:"",goodsName:"",goodsId:"",barCode:"",userNum:"",orderNum:"",params:{},tabsValue:"0"}},created:function(){this.getType(),this.mountCategory(1)},methods:{getType:function(){this.tabsValue=this.$route.query.type||this.tabsValue},tabsClick:function(){window.history.replaceState&&window.history.replaceState(null,null,"#"+this.$route.path+"?type="+this.tabsValue)},mountCategory:function(t,e){var a=this,n={level:t};e&&(n.pid=e),Object(s.f)(n).then(function(e){1===t?a.firstCategoryList=e.data:2===t?a.secondCategoryList=e.data:3===t&&(a.thirdCategoryList=e.data)})},resetFrom:function(){this.firstCategoryValue="",this.secondCategoryValue="",this.thirdCategoryValue="",this.dateRange="",this.goodsName="",this.goodsId="",this.barCode="",this.userNum="",this.orderNum="",this.onSubmit()},onSubmit:function(){if(this.dateRange.length<2)var t="",e="";else t=this.dateRange[0].getTime(),e=this.dateRange[1].getTime();this.params={oneCategoryId:this.firstCategoryValue,twoCategoryId:this.secondCategoryValue,threeCategoryId:this.thirdCategoryValue,gmtStart:t,gmtEnd:e,goodsName:this.goodsName,goodsId:this.goodsId,barCode:this.barCode,account:this.userNum,orderNo:this.orderNum}},exportOrderCsv:function(){var t=i()({},this.params),e="";switch(this.tabsValue){case"0":e="PAID";break;case"1":e="DELIVERED";break;case"2":e="FINISHED";break;case"3":e="CLOSED";break;default:e="ALL"}t.status=e,Object(f.b)(Object(s.s)(t))}},watch:{firstCategoryValue:function(t){this.mountCategory(2,t),this.secondCategoryValue="",this.thirdCategoryValue="",this.thirdCategoryList=[],this.secondDis=!t},secondCategoryValue:function(t){this.mountCategory(3,t),this.thirdCategoryValue="",this.thirdDis=!t}},components:{GoodsList:g}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-container"},[a("div",{staticClass:"formSearch searchFilter"},[a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("ul",{staticClass:"lineFir"},[a("li",{staticClass:"goodsCategory"},[a("el-form-item",{attrs:{label:"商品类目"}},[a("el-select",{attrs:{placeholder:"一级类目"},model:{value:t.firstCategoryValue,callback:function(e){t.firstCategoryValue=e},expression:"firstCategoryValue"}},t._l(t.firstCategoryList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("el-select",{attrs:{placeholder:"二级类目",disabled:t.secondDis},model:{value:t.secondCategoryValue,callback:function(e){t.secondCategoryValue=e},expression:"secondCategoryValue"}},t._l(t.secondCategoryList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("el-select",{attrs:{placeholder:"三级类目",disabled:t.thirdDis},model:{value:t.thirdCategoryValue,callback:function(e){t.thirdCategoryValue=e},expression:"thirdCategoryValue"}},t._l(t.thirdCategoryList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),a("li",{staticClass:"activityTime"},[a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1)],1),t._v(" "),a("li",[a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.orderNum,callback:function(e){t.orderNum=e},expression:"orderNum"}})],1)],1),t._v(" "),a("li",[a("el-form-item",{attrs:{label:"买家账号"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.userNum,callback:function(e){t.userNum=e},expression:"userNum"}})],1)],1),t._v(" "),a("li",[a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.goodsName,callback:function(e){t.goodsName=e},expression:"goodsName"}})],1)],1),t._v(" "),a("li",[a("el-form-item",{attrs:{label:"商品ID"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.goodsId,callback:function(e){t.goodsId=e},expression:"goodsId"}})],1)],1),t._v(" "),a("li",[a("el-form-item",{attrs:{label:"条形码"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.barCode,callback:function(e){t.barCode=e},expression:"barCode"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.onSubmit(e)}}},[t._v("搜索")]),t._v(" "),a("el-button",{nativeOn:{click:function(e){t.resetFrom(e)}}},[t._v("重置")]),t._v(" "),a("el-button",{nativeOn:{click:function(e){t.exportOrderCsv(e)}}},[t._v("导出订单")])],1)],1),t._v(" "),a("div",{staticClass:"tab StatusTab"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.tabsClick},model:{value:t.tabsValue,callback:function(e){t.tabsValue=e},expression:"tabsValue"}},[a("el-tab-pane",{attrs:{label:"待发货",name:"0"}},["0"===t.tabsValue?a("GoodsList",{attrs:{searchData:t.params,tabsValue:t.tabsValue}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"已发货",name:"1"}},["1"===t.tabsValue?a("GoodsList",{attrs:{searchData:t.params,tabsValue:t.tabsValue}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"订单完成",name:"2"}},["2"===t.tabsValue?a("GoodsList",{attrs:{searchData:t.params,tabsValue:t.tabsValue}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"订单关闭",name:"3"}},["3"===t.tabsValue?a("GoodsList",{attrs:{searchData:t.params,tabsValue:t.tabsValue}}):t._e()],1)],1)],1)])},staticRenderFns:[]};var m=a("VU/8")(v,b,!1,function(t){a("8W2Q")},"data-v-34100f0d",null);e.default=m.exports},i3y1:function(t,e,a){var n=a("uD16");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("cccac088",n,!0)},uD16:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.tableTitle[data-v-27fa6ae9] {\n  padding-bottom: 15px;\n  padding-top: 10px;\n  color: #666;\n  text-align: center;\n  background-color: #fff;\n}\n.tableTitle ul[data-v-27fa6ae9] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    padding: 0 20px;\n}\n.tableTitle li[data-v-27fa6ae9] {\n    border-right: 1px solid #ccc;\n    padding: 5px 0;\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n}\n.tableTitle li[data-v-27fa6ae9]:first-child {\n      -webkit-box-flex: 2;\n          -ms-flex: 2;\n              flex: 2;\n}\n.tableTitle li[data-v-27fa6ae9]:last-child {\n      border-right: none;\n}\n.orderList[data-v-27fa6ae9] {\n  margin-bottom: 15px;\n}\n.orderList[data-v-27fa6ae9] .el-card__header {\n    padding: 0 20px;\n}\n.orderList[data-v-27fa6ae9] .el-card__body {\n    padding: 0 20px;\n}\n.orderList .listTitle[data-v-27fa6ae9] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    height: 40px;\n    line-height: 40px;\n}\n.orderList .listTitle .listTitleL[data-v-27fa6ae9] {\n      text-align: left;\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n}\n.orderList .listTitle .listTitleL .orderNum[data-v-27fa6ae9] {\n        color: #606266;\n}\n.orderList .listTitle .listTitleR[data-v-27fa6ae9] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      text-align: right;\n      color: #606266;\n      font-size: 14px;\n}\n.orderList .listContent[data-v-27fa6ae9] {\n    text-align: center;\n}\n.orderList .listContent > ul[data-v-27fa6ae9] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n}\n.orderList .listContent > ul li[data-v-27fa6ae9] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n            -ms-flex-direction: column;\n                flex-direction: column;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n}\n.orderList .listContent > ul li[data-v-27fa6ae9]:first-child {\n          -webkit-box-flex: 2;\n              -ms-flex: 2;\n                  flex: 2;\n          -webkit-box-align: start;\n              -ms-flex-align: start;\n                  align-items: flex-start;\n}\n.orderList .listContent .goodsHead[data-v-27fa6ae9] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      padding: 10px 0;\n      padding-right: 10px;\n}\n.orderList .listContent .goodsHead .goodsImage[data-v-27fa6ae9] {\n        position: relative;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: start;\n            -ms-flex-pack: start;\n                justify-content: flex-start;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        min-width: 70px;\n}\n.orderList .listContent .goodsHead .goodsImage .imgWrap[data-v-27fa6ae9] {\n          width: 60px;\n          height: 60px;\n}\n.orderList .listContent .goodsHead .goodsImage .imgWrap img[data-v-27fa6ae9] {\n            width: 100%;\n            height: 100%;\n            display: block;\n}\n.orderList .listContent .goodsHead .goodsTitle[data-v-27fa6ae9] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n            -ms-flex-direction: column;\n                flex-direction: column;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n        -webkit-box-align: start;\n            -ms-flex-align: start;\n                align-items: flex-start;\n        word-break: break-all;\n}\n.orderList .listContent .goodsHead .goodsTitle p[data-v-27fa6ae9] {\n          padding: 5px 0;\n          text-align: left;\n}\n.orderList .listContent .operation[data-v-27fa6ae9] {\n      padding-bottom: 0;\n      border-bottom: none;\n}\n.orderList .listContent .operation .detail[data-v-27fa6ae9] {\n        padding: 10px 0;\n}\n.orderList .listContent .operation a[data-v-27fa6ae9] {\n        color: #409EFF;\n}\n.orderList .listContent .realPay[data-v-27fa6ae9] {\n      padding: 10px 0;\n}\n.sendOrder[data-v-27fa6ae9] {\n  padding-top: 20px;\n}\n.sendOrder .sendButton[data-v-27fa6ae9] {\n    padding-bottom: 20px;\n}\n.sendOrder .sendButton .uploadExcel[data-v-27fa6ae9] {\n      display: inline-block;\n      margin-right: 10px;\n}\n.sendOrder .sendButton .uploadExcel[data-v-27fa6ae9] .el-upload-list--text {\n        display: none;\n}\n.sendOrder .sendButton .downloadExcel[data-v-27fa6ae9] {\n      vertical-align: top;\n}\n",""])},ujpn:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.order-container[data-v-34100f0d] {\n  padding: 20px;\n  font-size: 14px;\n}\n.order-container .searchFilter h4[data-v-34100f0d] {\n    padding-left: 10px;\n    margin-bottom: 20px;\n    font-weight: 700;\n}\n.order-container .searchFilter ul[data-v-34100f0d] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n}\n.order-container .searchFilter .el-date-editor[data-v-34100f0d] {\n    width: 360px;\n}\n.order-container .searchFilter .el-date-editor[data-v-34100f0d] .el-range-separator {\n      width: 24px;\n      color: #999;\n}\n.order-container .searchFilter .el-date-editor[data-v-34100f0d] .el-range-input {\n      width: 140px;\n}\n.order-container .searchFilter .el-select[data-v-34100f0d] {\n    width: 110px;\n}\n.order-container .searchFilter .el-input[data-v-34100f0d] {\n    width: 160px;\n}\n.order-container .StatusTab[data-v-34100f0d] {\n    margin-top: 20px;\n    position: relative;\n}\n.order-container .StatusTab .tip[data-v-34100f0d] {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      color: #303133;\n}\n",""])},vHhr:function(t,e,a){"use strict";var n={name:"Sticky",props:{stickyTop:{type:Number,default:0},zIndex:{type:Number,default:1},className:{type:String,default:""}},data:function(){return{active:!1,position:"",width:void 0,height:void 0,isSticky:!1}},mounted:function(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleReize)},activated:function(){this.handleScroll()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleReize)},methods:{sticky:function(){this.active||(this.position="fixed",this.active=!0,this.width=this.width+"px",this.isSticky=!0)},reset:function(){this.active&&(this.position="",this.width="auto",this.active=!1,this.isSticky=!1)},handleScroll:function(){this.width=this.$el.getBoundingClientRect().width,this.$el.getBoundingClientRect().top<this.stickyTop?this.sticky():this.reset()},handleReize:function(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+"px")}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{height:t.height+"px",zIndex:t.zIndex}},[a("div",{class:t.className,style:{top:t.stickyTop+"px",zIndex:t.zIndex,position:t.position,width:t.width,height:t.height+"px"}},[t._t("default",[a("div",[t._v("sticky")])])],2)])},staticRenderFns:[]},s=a("VU/8")(n,i,!1,null,null,null);e.a=s.exports}});