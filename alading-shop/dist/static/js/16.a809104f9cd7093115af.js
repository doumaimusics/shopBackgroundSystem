webpackJsonp([16],{"+DRB":function(t,e,o){(t.exports=o("FZ+f")(!1)).push([t.i,"\n.detailCoupon[data-v-37dfc036] {\n  padding: 20px;\n  padding-left: 40px;\n}\n",""])},"/wz4":function(t,e,o){(t.exports=o("FZ+f")(!1)).push([t.i,"\n[data-v-236287e0] label {\n  width: 120px;\n}\n[data-v-236287e0] .el-form-item__content {\n  padding-left: 121px;\n}\n[data-v-236287e0] .el-form-item__error {\n  padding-left: 121px;\n}\n.el-input[data-v-236287e0] {\n  width: 300px;\n}\n.el-form-item[data-v-236287e0] {\n  margin-bottom: 15px;\n}\n.useCount[data-v-236287e0] {\n  padding-top: 40px;\n}\n.useCount h4[data-v-236287e0] {\n  font-weight: 700;\n  padding-bottom: 20px;\n}\n.useCount .el-card[data-v-236287e0] {\n  width: 80%;\n}\n.back[data-v-236287e0] {\n  padding-top: 40px;\n  padding-left: 75%;\n}\n",""])},"6LJ0":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{id:""}},created:function(){this.getParams()},methods:{getParams:function(){this.id=this.$route.query.id},goBack:function(){this.$router.history.go(-1)}},components:{CouponInfo:o("a0vF").a}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"detailCoupon"},[e("CouponInfo",{attrs:{id:this.id}})],1)},staticRenderFns:[]};var r=o("VU/8")(a,n,!1,function(t){o("Ktcb")},"data-v-37dfc036",null);e.default=r.exports},Ktcb:function(t,e,o){var a=o("+DRB");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o("rjj0")("4b2f57d5",a,!0)},a0vF:function(t,e,o){"use strict";var a=o("8ghC"),n={props:["isEdit","id"],data:function(){return{form:{quota:void 0,isShow:"1"},rules:{quota:[{required:!0,message:"不能为空",trigger:"blur"}]},tableData:[]}},created:function(){this.getFormData()},methods:{onSubmit:function(){var t=this;this.$refs.formRef.validate(function(e){if(e){var o={id:t.id,quota:t.form.quota,isShow:t.form.isShow};Object(a.D)(o).then(function(e){t.$message({type:"success",message:"优惠券修改成功"}),t.$router.push({name:"discountCoupon"})})}})},getFormData:function(){var t=this,e={id:this.id};Object(a.i)(e).then(function(e){t.form=e.data.afCouponDo,e.data.couponUseCountVo?t.tableData=[e.data.couponUseCountVo]:t.tableData=[]})},goBack:function(){this.$router.history.go(-1)}}},r={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"couponInfo"},[o("el-form",{ref:"formRef",attrs:{model:t.form,rules:t.rules}},[o("el-form-item",{attrs:{prop:"name",label:"优惠券名称："}},[t._v(t._s(t.form.name))]),t._v(" "),o("el-form-item",{attrs:{prop:"type",label:"优惠券类型："}},[t._v(t._s("FULLVOUCHER"===t.form.type?"满减券":""))]),t._v(" "),o("el-form-item",{attrs:{prop:"amount",label:"优惠金额："}},[t._v("￥"+t._s(t.form.amount))]),t._v(" "),o("el-form-item",{attrs:{prop:"limitAmount",label:"使用限制："}},[t._v("满￥"+t._s(t.form.limitAmount)+"元可用")]),t._v(" "),o("el-form-item",{attrs:{prop:"quota",label:"发行量："}},[t.isEdit?o("el-input-number",{attrs:{"controls-position":"right",min:1,precision:0},model:{value:t.form.quota,callback:function(e){t.$set(t.form,"quota",e)},expression:"form.quota"}}):t._e(),t._v(" "),t.isEdit?t._e():o("span",[t._v(t._s(t.form.quota))])],1),t._v(" "),o("el-form-item",{attrs:{prop:"limitCount",label:"单人领取上限："}},[t._v(t._s(t.form.limitCount))]),t._v(" "),o("el-form-item",{attrs:{prop:"date",label:"有效时间："}},["R"===t.form.expiryType?o("span",[t._v(t._s(t.form.gmtStartTime)+" 至 "+t._s(t.form.gmtEndTime))]):t._e(),t._v(" "),"D"===t.form.expiryType?o("span",[t._v("领取后"+t._s(t.form.validDays)+"天")]):t._e()]),t._v(" "),o("el-form-item",{attrs:{prop:"isGlobal",label:"使用范围："}},[t._v("全店")]),t._v(" "),o("el-form-item",{attrs:{prop:"isShow",label:"详情页领券："}},[t.isEdit?o("el-radio",{attrs:{label:1},model:{value:t.form.isShow,callback:function(e){t.$set(t.form,"isShow",e)},expression:"form.isShow"}},[t._v("是")]):t._e(),t._v(" "),t.isEdit?o("el-radio",{attrs:{label:0},model:{value:t.form.isShow,callback:function(e){t.$set(t.form,"isShow",e)},expression:"form.isShow"}},[t._v("否")]):t._e(),t._v(" "),t.isEdit?t._e():o("span",[t._v(t._s(t.form.isShow?"是":"否"))])],1)],1),t._v(" "),t.isEdit?o("div",{staticClass:"btn"},[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存修改")])],1):t._e(),t._v(" "),o("div",{staticClass:"useCount"},[o("el-card",[o("h4",[t._v("使用统计")]),t._v(" "),o("el-table",{attrs:{data:t.tableData,border:"",stripe:""}},[o("el-table-column",{attrs:{prop:"quota",label:"发行数量"}}),t._v(" "),o("el-table-column",{attrs:{prop:"receiveNum",label:"领取数量"}}),t._v(" "),o("el-table-column",{attrs:{prop:"receiveUserNum",label:"领取人数"}}),t._v(" "),o("el-table-column",{attrs:{prop:"receiveScale",label:"领取比例"}}),t._v(" "),o("el-table-column",{attrs:{prop:"usedNum",label:"使用数量"}}),t._v(" "),o("el-table-column",{attrs:{prop:"useScale",label:"使用率"}})],1)],1)],1),t._v(" "),o("div",{staticClass:"back"},[o("el-button",{attrs:{type:"default"},on:{click:t.goBack}},[t._v("返回")])],1)],1)},staticRenderFns:[]};var i=o("VU/8")(n,r,!1,function(t){o("wxIa")},"data-v-236287e0",null);e.a=i.exports},wxIa:function(t,e,o){var a=o("/wz4");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o("rjj0")("5d237733",a,!0)}});